<source>
    @type gcloud_pubsub
    tag example.pull
    project <%= project %>
    key <%= keyFilePath %>
    topic <%= topic %>
    subscription <%= subscription %>
    max_messages 1000
    return_immediately true
    pull_interval 0.5
    pull_threads 2
    parse_error_action exception
    enable_rpc true
    rpc_bind 0.0.0.0
    rpc_port 24680
    <parse>
        @type json
    </parse>
</source>



<match %>>
    @type elasticsearch
    host <%= host %>
    port <%= port %>
    index_name <%= esIndex %>
    type_name _doc
    user <%= username || "" %>
    password <%= password || "" %>
    <buffer>
        flush_interval 5s
    </buffer>
</match>